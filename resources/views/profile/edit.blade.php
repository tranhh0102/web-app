@extends('layouts.master')

@section('styles')
<link rel="stylesheet" href="{{ asset('style/profile.css') }}">
@endsection

@section('content')
  <div class="edit-header">
    <span class="edit-title">Cài đặt</span>
  </div>

  <div class="avatar">
    <div class="image">
    <img style="border-radius: 50%;" src="{{ 'https://ui-avatars.com/api/?name=' . urlencode($user->name) . '&background=random' }}" alt="Avatar">
    </div>
    <div class="information grid">
        <span>{{auth()->user()->name}}</span>
        <span>{{auth()->user()->email}}</span>
    </div>
  </div>

  <div class="general">
    <div class="general-setting">

        <!--Change password-->
        <a href="{{route('password.edit')}}" class="general-setting-sub change-password">
          <div class="flex gap-2">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M6.17989 22.7499C6.07989 22.7499 5.96989 22.7399 5.87989 22.7299L3.70989 22.4299C2.66989 22.2899 1.72989 21.3599 1.56989 20.2999L1.26989 18.1099C1.16989 17.4099 1.46989 16.4999 1.96989 15.9899L6.35989 11.5999C5.64989 8.75992 6.46989 5.75992 8.55989 3.68992C11.7999 0.459923 17.0699 0.449923 20.3199 3.68992C21.8899 5.25992 22.7499 7.34992 22.7499 9.56992C22.7499 11.7899 21.8899 13.8799 20.3199 15.4499C18.2199 17.5299 15.2299 18.3499 12.4099 17.6299L8.00989 22.0199C7.58989 22.4599 6.83989 22.7499 6.17989 22.7499ZM14.4299 2.75992C12.6799 2.75992 10.9399 3.41992 9.60989 4.74992C7.80989 6.53992 7.15989 9.15992 7.90989 11.5999C7.98989 11.8699 7.91989 12.1499 7.71989 12.3499L3.01989 17.0499C2.84989 17.2199 2.70989 17.6599 2.73989 17.8899L3.03989 20.0799C3.09989 20.4599 3.50989 20.8899 3.88989 20.9399L6.06989 21.2399C6.30989 21.2799 6.74989 21.1399 6.91989 20.9699L11.6399 16.2599C11.8399 16.0599 12.1299 15.9999 12.3899 16.0799C14.7999 16.8399 17.4299 16.1899 19.2299 14.3899C20.5099 13.1099 21.2199 11.3899 21.2199 9.56992C21.2199 7.73992 20.5099 6.02992 19.2299 4.74992C17.9299 3.42992 16.1799 2.75992 14.4299 2.75992Z" fill="#EC5228" fill-opacity="0.87"/>
              <path d="M9.19008 20.5402C9.00008 20.5402 8.81008 20.4702 8.66008 20.3202L6.36008 18.0202C6.07008 17.7302 6.07008 17.2502 6.36008 16.9602C6.65008 16.6702 7.13008 16.6702 7.42008 16.9602L9.72008 19.2602C10.0101 19.5502 10.0101 20.0302 9.72008 20.3202C9.57008 20.4702 9.38008 20.5402 9.19008 20.5402Z" fill="#EC5228" fill-opacity="0.87"/>
              <path d="M14.5 11.75C13.26 11.75 12.25 10.74 12.25 9.5C12.25 8.26 13.26 7.25 14.5 7.25C15.74 7.25 16.75 8.26 16.75 9.5C16.75 10.74 15.74 11.75 14.5 11.75ZM14.5 8.75C14.09 8.75 13.75 9.09 13.75 9.5C13.75 9.91 14.09 10.25 14.5 10.25C14.91 10.25 15.25 9.91 15.25 9.5C15.25 9.09 14.91 8.75 14.5 8.75Z" fill="#EC5228" fill-opacity="0.87"/>
              </svg>
              <span class="setting-title">Đổi mật khẩu</span>
          </div>
          <img src="{{asset('svg/arrow.svg')}}" alt="">  
        </a>
        
        <!--Add category-->

        <a href="{{route('mexpense.index')}}" class="general-setting-sub add-category">
          <div class="flex gap-2">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M12.0701 21.98C10.6601 21.98 9.24009 21.44 8.17009 20.37L3.64009 15.84C2.54009 14.74 1.96009 13.22 2.03009 11.67L2.27009 6.67C2.38009 4.28 4.27009 2.39 6.67009 2.27L11.6701 2.03C13.2201 1.97 14.7401 2.54 15.8401 3.64L20.3701 8.17C22.5201 10.32 22.5201 13.83 20.3701 15.98L15.9801 20.37C14.9001 21.44 13.4901 21.98 12.0701 21.98ZM4.70009 14.77L9.23009 19.3C9.99009 20.06 11.0001 20.48 12.0701 20.48C13.1401 20.48 14.1501 20.06 14.9101 19.3L19.3001 14.91C20.0601 14.15 20.4801 13.14 20.4801 12.07C20.4801 11 20.0601 9.99 19.3001 9.23L14.7701 4.7C13.9701 3.9 12.8601 3.47 11.7401 3.53L6.74009 3.77C5.11009 3.84 3.84009 5.11 3.76009 6.73L3.52009 11.73C3.47009 12.86 3.90009 13.97 4.70009 14.77Z" fill="#EC5228" fill-opacity="0.87"/>
              <path d="M9.5 12.75C7.71 12.75 6.25 11.29 6.25 9.5C6.25 7.71 7.71 6.25 9.5 6.25C11.29 6.25 12.75 7.71 12.75 9.5C12.75 11.29 11.29 12.75 9.5 12.75ZM9.5 7.75C8.54 7.75 7.75 8.54 7.75 9.5C7.75 10.46 8.54 11.25 9.5 11.25C10.46 11.25 11.25 10.46 11.25 9.5C11.25 8.54 10.46 7.75 9.5 7.75Z" fill="#EC5228" fill-opacity="0.87"/>
              </svg>
              <span class="setting-title">Thêm danh mục chi tiêu</span>
          </div>
          <img src="{{asset('svg/arrow.svg')}}" alt="">  
        </a>

        <a href="{{route('mincome.index')}}" class="general-setting-sub add-category">
          <div class="flex gap-2">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M12.0701 21.98C10.6601 21.98 9.24009 21.44 8.17009 20.37L3.64009 15.84C2.54009 14.74 1.96009 13.22 2.03009 11.67L2.27009 6.67C2.38009 4.28 4.27009 2.39 6.67009 2.27L11.6701 2.03C13.2201 1.97 14.7401 2.54 15.8401 3.64L20.3701 8.17C22.5201 10.32 22.5201 13.83 20.3701 15.98L15.9801 20.37C14.9001 21.44 13.4901 21.98 12.0701 21.98ZM4.70009 14.77L9.23009 19.3C9.99009 20.06 11.0001 20.48 12.0701 20.48C13.1401 20.48 14.1501 20.06 14.9101 19.3L19.3001 14.91C20.0601 14.15 20.4801 13.14 20.4801 12.07C20.4801 11 20.0601 9.99 19.3001 9.23L14.7701 4.7C13.9701 3.9 12.8601 3.47 11.7401 3.53L6.74009 3.77C5.11009 3.84 3.84009 5.11 3.76009 6.73L3.52009 11.73C3.47009 12.86 3.90009 13.97 4.70009 14.77Z" fill="#EC5228" fill-opacity="0.87"/>
              <path d="M9.5 12.75C7.71 12.75 6.25 11.29 6.25 9.5C6.25 7.71 7.71 6.25 9.5 6.25C11.29 6.25 12.75 7.71 12.75 9.5C12.75 11.29 11.29 12.75 9.5 12.75ZM9.5 7.75C8.54 7.75 7.75 8.54 7.75 9.5C7.75 10.46 8.54 11.25 9.5 11.25C10.46 11.25 11.25 10.46 11.25 9.5C11.25 8.54 10.46 7.75 9.5 7.75Z" fill="#EC5228" fill-opacity="0.87"/>
              </svg>
              <span class="setting-title">Thêm danh mục thu nhập</span>
          </div>
          <img src="{{asset('svg/arrow.svg')}}" alt="">  
        </a>


        <!--Logout-->
        <div class="flex items-center justify-between gap-2">
          <div>
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M15.24 22.27H15.11C10.67 22.27 8.53002 20.52 8.16002 16.6C8.12002 16.19 8.42002 15.82 8.84002 15.78C9.24002 15.74 9.62002 16.05 9.66002 16.46C9.95002 19.6 11.43 20.77 15.12 20.77H15.25C19.32 20.77 20.76 19.33 20.76 15.26V8.73998C20.76 4.66998 19.32 3.22998 15.25 3.22998H15.12C11.41 3.22998 9.93002 4.41998 9.66002 7.61998C9.61002 8.02998 9.26002 8.33998 8.84002 8.29998C8.42002 8.26998 8.12001 7.89998 8.15001 7.48998C8.49001 3.50998 10.64 1.72998 15.11 1.72998H15.24C20.15 1.72998 22.25 3.82998 22.25 8.73998V15.26C22.25 20.17 20.15 22.27 15.24 22.27Z" fill="#FF4949"/>
              <path d="M15.0001 12.75H3.62012C3.21012 12.75 2.87012 12.41 2.87012 12C2.87012 11.59 3.21012 11.25 3.62012 11.25H15.0001C15.4101 11.25 15.7501 11.59 15.7501 12C15.7501 12.41 15.4101 12.75 15.0001 12.75Z" fill="#FF4949"/>
              <path d="M5.84994 16.0998C5.65994 16.0998 5.46994 16.0298 5.31994 15.8798L1.96994 12.5298C1.67994 12.2398 1.67994 11.7598 1.96994 11.4698L5.31994 8.11984C5.60994 7.82984 6.08994 7.82984 6.37994 8.11984C6.66994 8.40984 6.66994 8.88984 6.37994 9.17984L3.55994 11.9998L6.37994 14.8198C6.66994 15.1098 6.66994 15.5898 6.37994 15.8798C6.23994 16.0298 6.03994 16.0998 5.84994 16.0998Z" fill="#FF4949"/>
            </svg>
          </div>
          <form method="POST" action="{{ route('logout') }}" id="form-logout">
            @csrf
            <button type="submit" class="text-logout" id="btn-logout">Đăng xuất</button>
          </form>
        </div>
    </div>
  </div>
  <script>
    document.addEventListener("DOMContentLoaded", function () {
      document.getElementById('btn-logout').addEventListener('click', function(e) {
        e.preventDefault();
        localStorage.removeItem('checkIsAlertReminder');
        localStorage.removeItem('alertDay');
        document.getElementById('form-logout').submit();
      })
    });
  </script>
@endsection